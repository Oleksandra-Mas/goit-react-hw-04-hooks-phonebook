(this["webpackJsonpgoit-react-hw-04-hooks-phonebook"]=this["webpackJsonpgoit-react-hw-04-hooks-phonebook"]||[]).push([[0],{41:function(e,t,n){},52:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a,r,c=n(0),o=n.n(c),i=n(8),s=n.n(i),l=(n(41),n(2)),u=n(23),d=n(6),b=n(13),j=n.n(b),h=(n(50),n(63)),m=n(24),f=(n(51),n(52),n(10)),O=n(64),x=n(32),p=n(11),g=n(1),v=p.a.form(a||(a=Object(f.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    max-width: 400px;\n    width: 100%;\n    margin: 0 auto 20px;\n"])));function w(e){var t=e.onSubmit,n=Object(c.useState)(""),a=Object(d.a)(n,2),r=a[0],o=a[1],i=Object(c.useState)(""),s=Object(d.a)(i,2),l=s[0],u=s[1],b=j.a.generate(),h=j.a.generate(),m=function(e){var t=e.target,n=t.value,a=t.name;switch(a){case"name":o(n);break;case"number":u(n);break;default:throw new Error("Unknown input ".concat(a))}},f=function(){o(""),u("")};return Object(g.jsxs)(v,{onSubmit:function(e){e.preventDefault(),t({name:r,number:l}),f()},children:[Object(g.jsxs)(O.a.Label,{htmlFor:b,children:["Name",Object(g.jsx)(O.a.Control,{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:r,onChange:m,id:b})]}),Object(g.jsxs)(O.a.Label,{htmlFor:h,children:["Number",Object(g.jsx)(O.a.Control,{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:l,onChange:m,id:h})]}),Object(g.jsx)(x.a,{variant:"outline-dark",type:"sumbit",children:"Add contact"})]})}var C,y=p.a.li(r||(r=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n"])));function k(e){var t=e.contact,n=e.onDelete;return Object(g.jsxs)(y,{children:[Object(g.jsx)("p",{children:t.name}),Object(g.jsx)("a",{href:"tel:"+t.number,children:t.number}),Object(g.jsx)(x.a,{variant:"outline-dark",type:"button",onClick:function(){n(t.id)},children:"Delete"})]})}var S,L=p.a.ul(C||(C=Object(f.a)(["\n    margin-top: 20px;\n"])));function A(e){var t=e.contacts,n=e.onDelete;return Object(g.jsx)(L,{children:t.map((function(e){return Object(g.jsx)(k,{contact:e,onDelete:n},e.id)}))})}var N=p.a.label(S||(S=Object(f.a)(["\n    display: flex;\n    flex-direction: column;\n    max-width: 400px;\n    width: 100%;\n    margin: 0 auto;\n"])));function F(e){var t=e.filter,n=e.title,a=e.onChange,r=j.a.generate();return Object(g.jsxs)(N,{htmlFor:r,children:[Object(g.jsx)("span",{children:n}),Object(g.jsx)(O.a.Control,{type:"text",name:"filter",required:!0,value:t,onChange:function(e){var t=e.target.value;a(t)},placeholder:"Search...",id:r})]})}var D={addToList:function(e){var t=localStorage.getItem("contacts");t||(t=[]),localStorage.setItem("contacts",JSON.stringify(e))},getFromList:function(){var e=JSON.parse(localStorage.getItem("contacts"));return e||[]}};function I(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),o=Object(d.a)(r,2),i=o[0],s=o[1],b=Object(c.useRef)(!0);Object(c.useEffect)((function(){if(b.current){var e=D.getFromList();return a(e),void(b.current=!1)}D.addToList(n)}),[n]);var f=function(e){return n.findIndex((function(t){return t.name.toLowerCase()===e.toLowerCase()}))},O=n.filter((function(e){return e.name.toLowerCase().includes(i)}));return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)("h1",{children:"Phonebook"}),Object(g.jsx)(w,{onSubmit:function(e){-1===f(e.name)?a((function(t){return[].concat(Object(u.a)(t),[Object(l.a)({id:j.a.generate()},e)])})):Object(m.b)("".concat(e.name," is already in contacts"))}}),Object(g.jsx)("h2",{children:"Contacts"}),Object(g.jsx)(F,{title:"Find contacts by name",filter:i,onChange:function(e){s(e.toLowerCase())}}),O.length?Object(g.jsx)(A,{contacts:O,onDelete:function(e){a((function(t){return Object(u.a)(t).filter((function(t){return t.id!==e}))}))}}):Object(g.jsx)(h.a,{className:"Alert",variant:"dark",children:"Nothing found"}),Object(g.jsx)(m.a,{})]})}s.a.render(Object(g.jsx)(o.a.StrictMode,{children:Object(g.jsx)(I,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.6523c6e6.chunk.js.map